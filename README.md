### Первая итерация: 9 проектная работа.
### https://github.com/LenaMenson/web-larek-frontend.git

# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## АРХИТЕКТУРА
В организации кода применяется MVP (Model-View-Presenter) 

# Базовые классы

1.	Класс Api
(взаимодействие с сервером)

Методы:

•	handleResponse(response: Response): Promise<object> - защищенный метод-обработчик ответа от сервера. Возвращает Promise с данными ответа или ошибкой. Обрабатывает ошибки, возвращая сообщение об ошибке или текст статуса .
•	get(uri: string) - публичный метод принимает изменяемую часть url-адреса в виде строки, возвращает Promise с данными ответа в формате JSON, если запрос был успешным  
•	post(uri: string, data: object, method: ApiPostMethods = 'POST') – публичный метод  
  принимает uri - изменяемая часть url-адреса сервера в виде строки, 
  принимает data - данные в виде объекта для отправки на сервер, 
  принимает method - метод  одного из вариантов типа ApiPostMethods = 'POST' | 'PUT' | 'DELETE'.
  
2. Класс Component
(базовый компонент для работы с DOM )

Методы:

•	toggleClass - установить текстовое содержимое элемента
•	setDisabled - защищенный метод, позволяет сменить статус блокировки кнопки
•	setHidden - защищенный метод, позволяет скрыть элемент
•	setVisible - защищенный метод, позволяет показать элемент
•	setImage - защищенный метод, позволяет установить изображение с альтернативным текстом
•	render - вернуть корневой DOM элемент

3.	Класс EventEmitter имлементирован IEvents
   (брокер событий)

Методы:

•	on<T extends object>(eventName: EventName, callback: (event: T) => void) - публичный метод принимает название события и коллбэк, обеспечивает подписку на событие (установку обработчика события)  
•	off(eventName: EventName, callback: Subscriber) - публичный метод принимает название события и коллбэк, обеспечивает отписку от события (снятие обработчика события)  
•	emit<T extends object>(eventName: string, data?: T) - публичный метод принимает название события и опционально данные.  Обеспечивает уведомление подписчиков о наступлении события.  
•	onAll(callback: (event: EmitterEvent) => void) - публичный метод принимает коллбэк, позволяет подписаться на все события  
•	offAll() - публичный метод позволяет отписаться от всех событий  
•	trigger<T extends object>(eventName: string, context?: Partial<T>) - публичный метод принимает название события и опционально контекст, позволяет создать триггер и инициировать событие  

4.	Класс Model
   (базовая модель)

Методы:

•	emitChanges - метод, позволяющий сообщить всем что модель поменялась 

# Класс для ответов от сервера   

1.	Класс LarekApi  
(класс для полученные данных с сервера и отправки на сервер)
  
Методы:

•	getCardList - метод для получения карточек товаров с сервера  
•	postOrderLot – метод для получение ответа от сервера по оформленному заказу
  
# Классы блока Model и View    

1. Класс Page  
(устанавливает данные для элеентов главной страницы)  

Методы: 

•	set counter - сеттер для установки количества товаров в корзине на значке корзины   
•	set catalog - сеттер для установки на страницу каталога товаров  
•	set locked - получает ответ от сервера по сделанному/отправленному заказу    


2. AppState 
(управляет состоянием приложения)

Методы:  

•	setCatalog - установка каталога, Emit для отслеживания изменений в каталоге товаров
•	setPreview - метод для открытия окна-превью выбранного товара, Emit для отслеживания события открытия превью
•	addToBasket - добавление в корзину, Emit для отслеживания изменений корзины
•	deleteFromBasket - удаление из корзины, Emit для отслеживания изменений корзины
•	clearBasket - очистка корзины после оформления заказа
•	getBasketVolume - возвращает кол-во элементов в корзине
•	isInBasket - метод проверки есть ли уже выбранный товар в корзине
•	getTotal - возвращает общую сумму заказа для вывода в окне success
•	clearOrder - очистка полей заказа после оформления заказа
•	setOrderField - метод для установки соответствующих полей в полный заказ из формы с заказом (способ оплаты и адрес)
•	validateOrder - метод для валидации формы с заказом (способ оплаты и адрес)
•	setContactsField - метод для установки соответствующих полей в полный заказ из формы с контактами (телефон и email)
•	validateContacts - метод для валидации формы с контактами (телефон и email)
•	getOrder - возвращает заказ с заполненными полями


3.	Класс Modal  
(управляет модальными окнами в приложении)  
  
Методы:  

•	set content () – функция принимает элемент разметки и устанавливает содержимое модального окна.  
•	open () – функция открывает модальное окно  
•	close () – функция закрывает модальное окно  
•	render() - метод рендеринга модального окна  


4. Класс Card
(устанавливает данные карточек товара)  

Методы:  

•	set id - сеттер устанавливает id товара
•	get id - геттер возвращает id товара
•	set description - сеттер устанавливает текстовое описание карточки товара
•	set image - сеттер устанавливает изображение в карточку товара
•	set title - сеттер устанавливает заголовок карточки товара
•	get title - геттер возвращает заголовок карточки товара
•	set category - сеттер устанавливает категорию в карточку товара
•	set price - сеттер устанавливает цену товара в карточку товара
•	set button - сеттер устанавливает текст кнопки в карточку товара

5.	Класс CardInBasket
(устанавливает данные карточек товара)  

Методы:  

•	set index - сеттер устанавливает номер/индекс товара в элемент товара в корзине
•	set price - сеттер устанавливает цену товара в элемент товара в корзине
•	set title - сеттер устанавливает заголовок товара в корзине


6.	Класс Basket
(представляет корзину покупок на веб-странице управляет отображением элементов корзины)  

Методы:  

•	set items - сеттер для обновления списка товаров в корзине  
•	set total – устанавливает стоимость всех товаров в корзине  
•	set selected - меняет активность кнопки


7.	Класс Form 
(управляет отображением содержимого модального окна с формой ввода данных)  
 
Методы:  

•	onInputChange () – защищенный метод для отслеживания изменений в полях ввода формы  
•	valid () - сеттер для изменения состояния кнопки по итогу валидации полей
•	errors () - сеттер для вывода текста ошибки
•	render() - метод рендеринга формы и добавления обработчиков событий для полей ввода и кнопок выбора способа оплаты  
  

8.	Класс OrderForm   
(операции с данными, полученными от пользователя, в процессе оформления заказа)  
 
Методы:  
 
•	set address – сеттер для устанавки значения поля адреса в форме заказа   


9.	Класс ContactsForm   
(операции с данными, полученными от пользователя, в процессе оформления заказа)  
 
Методы:  

•	set phone – сеттер для устанавки значения поля телефон в форме заказа  
•	set email – сеттер для устанавки значения поля email в форме заказа


10.	Класс Success    
(управляет отображением сообщения об успешном оформлении заказа)  

Методы:  

•	set totalSuccess () - метод для указания списанной суммы 



## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
